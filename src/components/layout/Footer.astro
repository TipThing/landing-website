---
interface FooterLink {
  label: string;
  href: string;
}

interface FooterSection {
  heading: string;
  links: FooterLink[];
}

const currentYear = new Date().getFullYear();

const footerSections: FooterSection[] = [
  {
    heading: 'Services',
    links: [
      { label: 'Cloud Architecture', href: '/services#cloud-architecture' },
      { label: 'Web Development', href: '/services#web-development' },
      { label: 'Legacy Migration', href: '/services#legacy-migration' },
    ],
  },
  {
    heading: 'Products',
    links: [
      { label: 'Logable IoT', href: '/products#logable' },
      { label: 'AssetDock', href: '/products#assetdock' },
      { label: 'Fitsy CRM', href: '/products#fitsy' },
    ],
  },
  {
    heading: 'Company',
    links: [
      { label: 'About Us', href: '/company' },
      { label: 'Careers', href: '/contact#careers' },
      { label: 'Contact', href: '/contact' },
    ],
  },
];

const socialLinks = [
  {
    name: 'Twitter',
    href: 'https://twitter.com/tipthing',
    icon: 'M23 3a10.9 10.9 0 01-3.14 1.53 4.48 4.48 0 00-7.86 3v1A10.66 10.66 0 013 4s-4 9 5 13a11.64 11.64 0 01-7 2c9 5 20 0 20-11.5a4.5 4.5 0 00-.08-.83A7.72 7.72 0 0023 3z',
    ariaLabel: 'Follow us on Twitter',
  },
  {
    name: 'GitHub',
    href: 'https://github.com/tipthing',
    icon: 'M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0020 4.77 5.07 5.07 0 0019.91 1S18.73.65 16 2.48a13.38 13.38 0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 005 4.77a5.44 5.44 0 00-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 009 18.13V22',
    ariaLabel: 'Visit our GitHub',
  },
  {
    name: 'LinkedIn',
    href: 'https://linkedin.com/company/tipthing',
    icon: 'M16 8a6 6 0 016 6v7h-4v-7a2 2 0 00-2-2 2 2 0 00-2 2v7h-4v-7a6 6 0 016-6zM2 9h4v12H2z M4 6a2 2 0 100-4 2 2 0 000 4z',
    ariaLabel: 'Connect on LinkedIn',
  },
];
---

<footer class="bg-[#050507] pt-24 pb-12 px-6 border-t border-white/5" role="contentinfo">
  <div class="max-w-7xl mx-auto">
    <!-- Main Footer Content -->
    <div class="grid grid-cols-1 md:grid-cols-4 gap-12 mb-20">
      <!-- Brand Section -->
      <div class="col-span-1">
        <a
          href="/"
          class="flex items-center gap-2 font-bold text-xl text-zinc-100 mb-6 hover:opacity-80 transition-opacity focus:outline-none focus:ring-2 focus:ring-white/20 focus:ring-offset-2 focus:ring-offset-[#050507] rounded-md w-fit"
          aria-label="TipThing home"
        >
          <div class="w-6 h-6 bg-white rounded-md flex items-center justify-center text-black">
            <svg
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="3"
              stroke-linecap="round"
              stroke-linejoin="round"
              aria-hidden="true"
            >
              <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
            </svg>
          </div>
          TipThing
        </a>
        <p class="text-zinc-500 text-sm leading-relaxed mb-6">
          Engineered software solutions for the modern enterprise.
        </p>
        <!-- Social Links -->
        <div class="flex gap-4" role="list" aria-label="Social media links">
          {
            socialLinks.map((social) => (
              <a
                href={social.href}
                target="_blank"
                rel="noopener noreferrer"
                class="text-zinc-600 hover:text-white transition-colors focus:outline-none focus:text-white focus:ring-2 focus:ring-white/20 rounded-sm p-1"
                aria-label={social.ariaLabel}
              >
                <svg
                  width="18"
                  height="18"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  aria-hidden="true"
                >
                  <path d={social.icon} />
                </svg>
              </a>
            ))
          }
        </div>
      </div>

      <!-- Footer Links Sections -->
      {
        footerSections.map((section) => (
          <div>
            <h4 class="font-bold text-white text-sm mb-4">{section.heading}</h4>
            <ul class="space-y-3 text-sm text-zinc-500" role="list">
              {section.links.map((link) => (
                <li>
                  <a
                    href={link.href}
                    class="hover:text-white transition-colors focus:outline-none focus:text-white focus:underline underline-offset-4"
                  >
                    {link.label}
                  </a>
                </li>
              ))}
            </ul>
          </div>
        ))
      }
    </div>

    <!-- Bottom Bar -->
    <div
      class="border-t border-white/5 pt-8 flex flex-col md:flex-row justify-between items-center text-xs text-zinc-600 font-mono uppercase tracking-wider gap-4"
    >
      <p>Â© {currentYear} TipThing Solutions. All rights reserved.</p>
      <div class="flex gap-2 items-center" role="status" aria-label="System status">
        <div class="w-2 h-2 rounded-full bg-emerald-500 animate-pulse" aria-hidden="true"></div>
        <span>All Systems Operational</span>
      </div>
    </div>
  </div>
</footer>

<style>
  /* Ensure smooth color transitions */
  a {
    transition: color 0.2s ease-in-out;
  }

  /* Improve focus visibility */
  a:focus-visible {
    outline: 2px solid rgba(255, 255, 255, 0.2);
    outline-offset: 2px;
  }
</style>
