---
import Layout from './Layout.astro';
import NavBar from '../components/layout/NavBar';
import Footer from '../components/layout/Footer.astro';

export interface Props {
  title?: string;
  description?: string;
  keywords?: string[];
  image?: string;
  noindex?: boolean;
  pageType?: 'website' | 'article' | 'product' | 'profile';
  currentPath?: string;
}

const {
  title,
  description,
  keywords,
  image,
  noindex = false,
  pageType = 'website',
  currentPath = Astro.url.pathname,
} = Astro.props;
---

<Layout
  title={title}
  description={description}
  keywords={keywords}
  image={image}
  noindex={noindex}
  pageType={pageType}
>
  <!-- Navigation - client:load for interactivity -->
  <NavBar client:load currentPath={currentPath} />

  <!-- Main Content -->
  <main>
    <slot />
  </main>

  <!-- Footer - server-rendered, no interactivity needed -->
  <Footer />
</Layout>

<style is:global>
  /* Base styles */
  html {
    font-family: system-ui, sans-serif;
    background: #09090b;
    color: white;
  }

  body {
    margin: 0;
    padding: 0;
    min-height: 100vh;
  }

  /* Skip to main content link for accessibility */
  .skip-to-main {
    position: absolute;
    left: -9999px;
    z-index: 999;
    padding: 1em;
    background-color: white;
    color: black;
    text-decoration: none;
  }

  .skip-to-main:focus {
    left: 50%;
    transform: translateX(-50%);
    top: 1em;
  }

  /* Smooth scrolling */
  html {
    scroll-behavior: smooth;
  }

  /* Focus visible for better accessibility */
  :focus-visible {
    outline: 2px solid rgba(255, 255, 255, 0.5);
    outline-offset: 2px;
  }
</style>
